(function(e){function t(t){for(var n,s,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("64a9")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},"17bf":function(e,t,r){"use strict";r("c492")},2:function(e,t){},3:function(e,t){},"3a0f":function(e,t,r){},4:function(e,t){},4268:function(e,t,r){"use strict";r("96cf");var n=r("3b8d"),a=(r("a481"),r("4917"),r("bc3a")),i=r.n(a),s="http://localhost:3000/ict";navigator.sayswho=function(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===r[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),r.join(" "))}(),t["a"]={hardwareId:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(s,"/hardware/id"),{timeout:2e3}).then((function(e){return e.data})).catch((function(e){var t=navigator.sayswho+Math.random;return{uniqueId:t.replace(" ","+")}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),changeAutoSshPort:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(s,"/change/phonehome/").concat(t),{timeout:1e3}).then((function(e){return e.data})).catch((function(e){return{error:e}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("bb71");r("da64");n["a"].use(a["a"],{iconfont:"md",theme:{primary:"#ffc91d",background:"#ffc91d",backgroundDark:"#ffc91d",cards:"#424242",activeCard:"#424242",secondary:"#f46036",accent:"#f7bc1c",error:"#f46036"}});var i=r("f186"),s=r.n(i);r("a245");n["a"].use(s.a);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"kiosk",dark:""}},[r("v-content",{staticStyle:{"background-color":"black"}},[r("router-view")],1)],1)},c=[],u={data:function(){return{drawer:!1}},props:{source:String}},l=u,d=(r("034f"),r("2877")),p=r("6544"),f=r.n(p),h=r("7496"),v=r("549c"),m=Object(d["a"])(l,o,c,!1,null,null,null),g=m.exports;f()(m,{VApp:h["a"],VContent:v["a"]});var b=r("8c4f"),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loading?n("v-container",[n("div",{staticClass:"text-xs-center"},[n("v-progress-circular",{attrs:{indeterminate:"",size:150,width:8,color:"green"}})],1)]):n("v-container",{staticClass:"mt-3",attrs:{fluid:"","grid-list-xl":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[n("v-flex",{attrs:{xs12:"",md10:""}},[e.error?n("v-alert",{staticClass:"mt-3 mb-3",attrs:{dismissible:"",type:"error"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.error))]):e._e()],1)],1),n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",md8:""}},[n("v-card",{directives:[{name:"ripple",rawName:"v-ripple"}],class:{cards:1!=e.selected,activeCards:1==e.selected,"elevation-15":1!=e.selected},attrs:{outlined:""},on:{click:function(t){return e.onSelect(1)}}},[n("v-img",{attrs:{"max-height":"400px",src:r("d53e"),"aspect-ratio":"1"}}),n("v-layout",{attrs:{"align-end":"","fill-height":"","pa-4":""}},[n("h2",{staticClass:"font-weight-light primary--text",class:{"display-2":e.$vuetify.breakpoint.mdAndUp}},[e._v("\n            Inregistreaza ATM\n          ")])]),n("v-card-title",[n("div",{staticClass:"subheading"},[e._v("\n            Acest ATM nu a fost gasit in baza de date, pentru inregistrare\n            apasa aici.\n          ")])]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{large:"",color:"background",disabled:1==e.selected}},[e._v("Start")])],1)],1)],1)],1),n("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[n("v-flex",{attrs:{xs12:"",md6:""}},[e.visible?n("vue-touch-keyboard",{attrs:{options:e.options,layout:e.layout,cancel:e.hide,accept:e.accept,input:e.input}}):e._e()],1)],1)],1)},x=[],y=(r("ac6a"),r("96cf"),r("3b8d")),k={name:"Register",data:function(){var e=this;return{wholeResponse:[],loading:!1,valid:!1,email:"",destroyed:!1,input:null,hardwareId:null,selected:null,dialog:!1,emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Min 8 characters"}],rePassword:"",rePasswordRules:[function(e){return!!e||"You must confirm your password"},function(t){return t==e.password||"Passwords must match"}],checkbox:!1,show1:!1,show2:!1,error:!1,alert:!1,visible:!1,layout:"normal",options:{useKbEvents:!1}}},mounted:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.valid=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{deselect:function(){this.destroyed=!0,this.selected=null,this.dialog=!1},onSelect:function(e){this.destroyed=!1,this.selected=e,this.$router.push({name:"RegisterPassword"})},verifyQR:function(e){this.loading=!0;var t=JSON.parse(e);if(t&&t.hasOwnProperty("email")&&t.hasOwnProperty("cmd")&&"atmSync"==t.cmd){var r=this.selected;this.deselect(),this.error=!1,this.loading=!1,this.$router.push({name:1==r?"RegisterPassword":"Login",params:{qrCode:t}})}else this.deselect(),this.loading=!1,this.alert=!0,this.error="Invalid QR code, please make sure you log into your K-Merchant account and select the right QR"},accept:function(e){this.hide()},showKeyboard:function(e){this.input=e.target,this.layout=e.target.dataset.layout,this.visible||(this.visible=!0)},hide:function(){this.visible=!1},next:function(){var e=this,t=document.querySelectorAll("input"),r=!1;[].forEach.call(t,(function(n,a){!r&&n==e.input&&a<t.length-1&&(r=!0,e.$nextTick((function(){t[a+1].focus()})))})),r||(this.input.blur(),this.hide())}}},R=k,C=(r("a813"),r("0798")),_=r("8336"),S=r("b0af"),j=r("99d9"),O=r("12b2"),A=r("a523"),V=r("ce7e"),I=r("0e8f"),P=r("adda"),E=r("a722"),M=r("490a"),T=r("9910"),$=r("269a"),q=r.n($),F=r("3ccf"),B=Object(d["a"])(R,w,x,!1,null,"3c013af2",null),D=B.exports;f()(B,{VAlert:C["a"],VBtn:_["a"],VCard:S["a"],VCardActions:j["a"],VCardTitle:O["a"],VContainer:A["a"],VDivider:V["a"],VFlex:I["a"],VImg:P["a"],VLayout:E["a"],VProgressCircular:M["a"],VSpacer:T["a"]}),q()(B,{Ripple:F["a"]});var z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?r("v-container",[r("div",{staticClass:"text-xs-center"},[r("v-progress-circular",{attrs:{indeterminate:"",size:150,width:8,color:"green"}})],1)]):r("v-container",{staticClass:"mt-3",attrs:{fluid:"","grid-list-xl":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[r("v-flex",{attrs:{xs12:"",md8:""}},[r("h1",{staticClass:"display-1 text-xs-center black--text mb-3"},[e._v("\n        Inregistrare ATM\n      ")]),r("p",{staticClass:"text-xs-center",attrs:{xs12:"",md6:""}},[e._v("CryptoDATA >> Bank of Energy")]),e.error?r("v-alert",{staticClass:"mt-3 mb-3",attrs:{dismissible:"",type:"error"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.error.message?e.error.message:e.error))]):e._e(),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticClass:"cards mb-2 pa-5 elevation-15"},[r("v-tooltip",{attrs:{bottom:"","max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({staticClass:"mb-2 password",attrs:{"append-icon":e.show1?"visibility":"visibility_off",rules:e.passwordRules,type:e.show1?"text":"password",name:"password",label:"ATM Factory Serial Number",hint:"Serial Number de pe placuta stantat in fabrica, Exemplu: BOE0191",counter:"",box:"","data-layout":e.layout},on:{"click:append":function(t){e.show1=!e.show1},focus:e.showKeyboard},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},n))]}}])},[r("span",[e._v("Serial Number de pe placuta stantat in fabrica, Exemplu:\n              BOE0191")])]),r("v-tooltip",{attrs:{bottom:"","max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-text-field",e._g({attrs:{"append-icon":e.show2?"visibility":"visibility_off",rules:e.rePasswordRules,type:e.show2?"text":"password",name:"rePassword",label:"ATM Serial Number",hint:"Serial Number din reteaua Bank of Energy, Exemplu: 20000191",counter:"",box:"","data-layout":e.layout},on:{"click:append":function(t){e.show2=!e.show2},focus:e.showKeyboard},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}},n))]}}])},[r("span",[e._v("Serial Number din reteaua Bank of Energy, Exemplu:\n              20000191")])])],1),r("v-btn",{staticClass:"elevation-15",attrs:{disabled:!e.valid,large:"",color:"success"},on:{click:e.validate}},[e._v("Submit")])],1)],1)],1),r("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[r("v-flex",{attrs:{xs12:"",md6:""}},[e.visible?r("vue-touch-keyboard",{attrs:{options:e.options,layout:e.layout,cancel:e.hide,accept:e.accept,input:e.input}}):e._e()],1)],1)],1)},N=[],K=r("4268"),L=r("7424"),U=r("1c46"),Q={data:function(){return{wholeResponse:[],loading:!1,valid:!1,email:"",destroyed:!1,input:null,hardwareId:null,selected:null,dialog:!1,password:"",passwordRules:[function(e){return!!e||"Este necesar introducerea acestui camp"},function(e){return 7==e.length||"Acest camp trebuie sa aibe fix 7 caractere"}],rePassword:"",rePasswordRules:[function(e){return!!e||"Este necesar introducerea acestui camp"},function(e){return 8==e.length||"Acest camp trebuie sa aibe fix 8 cifre"}],show1:!1,show2:!1,error:!1,alert:!1,visible:!1,layout:"normal",options:{useKbEvents:!1}}},mounted:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.valid=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{registerDevice:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.user,n=t.jwt,e.next=3,L["a"].registerDevice(r,this.password,this.rePassword);case 3:a=e.sent,a.error?(this.loading=!1,this.alert=!0,this.error=t.error):(localStorage.setItem("token",n),localStorage.setItem("config_uuid",a.uuid),this.$router.push({name:"Dashboard"}),this.loading=!1);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deselect:function(){this.destroyed=!0,this.selected=null,this.dialog=!1},onSelect:function(e){this.destroyed=!1,this.selected=e,this.dialog=!0},validate:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,this.visible&&(this.visible=!1),!this.$refs.form.validate()){e.next=39;break}return e.next=5,K["a"].hardwareId();case 5:if(t=e.sent,!t||!t.hasOwnProperty("uniqueId")){e.next=36;break}return r=t.uniqueId,n=U.createHash("sha256").update(r).digest("hex"),e.next=11,L["a"].registerAccount(r,r,n);case 11:if(a=e.sent,!a.error){e.next=33;break}return e.next=15,L["a"].authAccount(r,n);case 15:if(i=e.sent,!i.error){e.next=22;break}this.loading=!1,this.alert=!0,this.error=i.error,e.next=31;break;case 22:return s=i.user,o=i.jwt,e.next=25,L["a"].fetchATMconfig(o,s.id);case 25:c=e.sent,u=c[0].uuid,localStorage.setItem("token",o),localStorage.setItem("config_uuid",u),this.$router.push({name:"Dashboard"}),this.loading=!1;case 31:e.next=34;break;case 33:this.registerDevice(a);case 34:e.next=39;break;case 36:this.loading=!1,this.alert=!0,this.error="Eroare conectare micro servicii.";case 39:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),accept:function(e){this.hide()},showKeyboard:function(e){this.input=e.target,this.layout=e.target.dataset.layout,this.visible||(this.visible=!0)},hide:function(){this.visible=!1},next:function(){var e=this,t=document.querySelectorAll("input"),r=!1;[].forEach.call(t,(function(n,a){!r&&n==e.input&&a<t.length-1&&(r=!0,e.$nextTick((function(){t[a+1].focus()})))})),r||(this.input.blur(),this.hide())}}},J=Q,Y=(r("80d9"),r("4bd4")),H=r("2677"),W=r("3a2f"),G=Object(d["a"])(J,z,N,!1,null,"8cb175c2",null),X=G.exports;f()(G,{VAlert:C["a"],VBtn:_["a"],VCard:S["a"],VContainer:A["a"],VFlex:I["a"],VForm:Y["a"],VLayout:E["a"],VProgressCircular:M["a"],VTextField:H["a"],VTooltip:W["a"]});var Z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?r("v-container",[r("div",{staticClass:"text-xs-center"},[r("v-progress-circular",{attrs:{indeterminate:"",size:150,width:8,color:"green"}})],1)]):r("v-container",{staticClass:"mt-3",attrs:{fluid:"","grid-list-xl":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("h1",{staticClass:"display-2 primary--text text-xs-center mb-3"},[e._v("Log In")]),r("p",{staticClass:"text-xs-center"},[e._v("Submit your password to enter mentainance mode")]),e.error?r("v-alert",{staticClass:"mt-3 mb-3",attrs:{dismissible:"",type:"error"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(e._s(e.error.message))]):e._e(),r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-card",{staticClass:"cards mb-2 pa-5 elevation-24"},[r("v-text-field",{staticClass:"mb-2",attrs:{"append-icon":e.show1?"visibility":"visibility_off",rules:e.passwordRules,type:e.show1?"text":"password",name:"password",label:"Password",box:"","data-layout":e.layout},on:{"click:append":function(t){e.show1=!e.show1},focus:e.show},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-btn",{attrs:{disabled:!e.valid,large:"",color:"success"},on:{click:e.validate}},[e._v("Log In")])],1)],1),r("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[e.visible?r("vue-touch-keyboard",{attrs:{options:e.options,layout:e.layout,cancel:e.hide,accept:e.accept,input:e.input}}):e._e()],1)],1)],1)},ee=[],te={data:function(){return{valid:!1,password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Min 8 characters"}],checkbox:!1,show1:!1,show2:!1,error:!1,alert:!1,loading:!1,input:null,visible:!1,layout:"normal",options:{useKbEvents:!1,preventClickEvent:!1}}},mounted:function(){this.valid=!1;var e=this.$route.params.qrCode;e?this.email=e.email:this.$router.push({name:"Dashboard"})},methods:{accept:function(){this.hide()},show:function(e){this.input=e.target,this.layout=e.target.dataset.layout,this.visible||(this.visible=!0)},hide:function(){this.visible=!1},validate:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.hide(),this.loading=!0,!this.$refs.form.validate()){e.next=19;break}return e.next=5,L["a"].authAccount(this.email,this.password);case 5:if(t=e.sent,!t.error){e.next=12;break}this.alert=!0,this.error=t.error,this.loading=!1,e.next=17;break;case 12:return r=t.jwt,n=t.user,e.next=15,L["a"].fetchATMconfig(r,n);case 15:a=e.sent,a?(localStorage.setItem("token",r),localStorage.setItem("config_uuid",a[0].id),this.$router.push({name:"Dashboard"}),this.loading=!1):(this.alert=!0,this.error={message:"Invalid CEM configuration, please register a new device"},this.loading=!1);case 17:e.next=22;break;case 19:this.alert=!0,this.error={message:"Please complete both fields to authenticate your device!"},this.loading=!1;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},re=te,ne=(r("b07d"),Object(d["a"])(re,Z,ee,!1,null,"5bc6a42f",null)),ae=ne.exports;f()(ne,{VAlert:C["a"],VBtn:_["a"],VCard:S["a"],VContainer:A["a"],VFlex:I["a"],VForm:Y["a"],VLayout:E["a"],VProgressCircular:M["a"],VTextField:H["a"]});var ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loading?r("v-container",[r("div",{staticClass:"text-xs-center"},[r("v-progress-circular",{attrs:{indeterminate:"",size:150,width:8,color:"green"}})],1)]):r("v-container",{staticClass:"text-xs-center",attrs:{fluid:"","grid-list-xl":""}},[r("v-flex",{staticClass:"text-xs-center p-0",attrs:{xs12:""}},[r("div",{staticClass:"zici-cai-video"},[r("video",{ref:"videoRef",attrs:{src:"",id:"video-container",width:"960",loop:"",autoplay:"true",muted:"muted"},domProps:{muted:!0}})])]),r("v-flex",{staticClass:"text-xs-center ",attrs:{xs12:""}},[r("h1",{staticClass:"display-3 text-xs-center mt-5 ",staticStyle:{color:"#FFC91C"}},[e._v("\n\t\t\tOut of battery?\n\t\t\t"),r("br"),e._v("\n\t\t\tRent a power bank\n\t\t")]),r("v-flex",{staticClass:"mt-5 text-xs-center d-flex mx-auto  height-content",attrs:{xs12:""}},[r("p",{staticClass:"d-flex justify-center align-center widht-equal flex-column",staticStyle:{color:"white"}},[e._v("\n\t\t\t\tOnly"),r("span",{staticStyle:{color:"#FFC91C"}},[e._v("\n\t\t\t\t\t0.2 EUR/h\n\t\t\t\t")])]),e.boeSn?r("vue-qrcode",{attrs:{widht:e.fit-e.content,value:e.boeSn}}):e._e(),r("p",{staticClass:"d-flex justify-center align-center widht-equal",staticStyle:{color:"white"}},[e._v("\n\t\t\t\tFirst\n\t\t\t\t"),r("span",{staticStyle:{color:"#FFC91C"}},[e._v("5 min FREE")])])],1),r("h3",{staticClass:"text-xs-center",staticStyle:{color:"white"},attrs:{xs12:"",md6:""}},[e._v("\n\t\t\tWe invite you to rent a Bank of Energy power bank. You can\n\t\t\tcharge any electronic device wherever you want.\n\t\t\t"),r("br"),e._v("\n\t\t\tYou can return the power bank at any Bank of Energy station.\n\t\t")])],1)],1)},se=[],oe=(r("28a5"),r("9a13")),ce={components:{VueQrcode:oe["a"]},data:function(){return{loading:!1,error:!1,errorMessage:null,destroyed:!0,videoUrl:null,boeSn:null,timer:null}},mounted:function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,o,c,u,l,d,p,f,h,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t="v2.1.0",n=localStorage.getItem("token"),a=localStorage.getItem("config_uuid"),i=localStorage.getItem("rentboxURL"),e.next=7,L["a"].fetchATMconfigByUuid(n,a);case 7:if(s=e.sent,s.error){e.next=31;break}return o=s[0],c=o.sn,u=o.phonehome,l="https://s.bankofbats.com/sw/app/rentbox/show.html?deviceId=".concat(c),localStorage.setItem("rentboxURL",l),this.timer=setInterval(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L["a"].reportConfig(c,u,t,"ok");case 2:case"end":return e.stop()}}),e)}))),3e5),e.prev=13,e.next=16,L["a"].reportConfig(c,u,t,"ok");case 16:e.next=20;break;case 18:e.prev=18,e.t0=e["catch"](13);case 20:if(null==u){e.next=28;break}return e.prev=21,e.next=24,K["a"].changeAutoSshPort(u);case 24:e.next=28;break;case 26:e.prev=26,e.t1=e["catch"](21);case 28:this.boeSn=l,e.next=69;break;case 31:return this.boeSn=i,this.loading=!1,d=null,e.prev=34,e.next=37,L["a"].reAuthAccount(a);case 37:d=e.sent,e.next=43;break;case 40:e.prev=40,e.t2=e["catch"](34),this.loading=!1;case 43:if(null===d||d.error){e.next=55;break}return p=d[0],f=p.sn,h=p.phonehome,this.timer=setInterval(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L["a"].reportConfig(f,h,t,"ok");case 2:case"end":return e.stop()}}),e)}))),3e5),e.prev=46,e.next=49,L["a"].reportConfig(f,h,t,"ok");case 49:e.next=53;break;case 51:e.prev=51,e.t3=e["catch"](46);case 53:e.next=69;break;case 55:return e.prev=55,v=i.split("deviceId=")[1],this.timer=setInterval(Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L["a"].reportConfig(v,0,t,"config_error");case 2:case"end":return e.stop()}}),e)}))),3e5),e.prev=58,e.next=61,L["a"].reportConfig(v,0,t,"config_error");case 61:e.next=65;break;case 63:e.prev=63,e.t4=e["catch"](58);case 65:e.next=69;break;case 67:e.prev=67,e.t5=e["catch"](55);case 69:return this.loading=!1,e.next=72,r("bc86");case 72:this.$refs.videoRef.src=e.sent,this.$refs.videoRef.play();case 74:case"end":return e.stop()}}),e,this,[[13,18],[21,26],[34,40],[46,51],[55,67],[58,63]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{}},ue=ce,le=(r("17bf"),Object(d["a"])(ue,ie,se,!1,null,"2e9fc468",null)),de=le.exports;function pe(e){return fe.apply(this,arguments)}function fe(){return fe=Object(y["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.next,n=localStorage.getItem("token"),a=localStorage.getItem("config_uuid"),n&&a){e.next=9;break}return localStorage.removeItem("jwt"),localStorage.removeItem("config_uuid"),e.abrupt("return",r({path:"/register"}));case 9:return e.abrupt("return",r());case 10:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}f()(le,{VContainer:A["a"],VFlex:I["a"],VProgressCircular:M["a"]}),n["a"].use(b["a"]);var he=new b["a"]({routes:[{path:"/",name:"Dashboard",component:de,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:ae,props:!0},{path:"/register",name:"Register",component:D},{path:"/register/device",name:"RegisterPassword",component:X,props:!0}]});he.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?pe({next:r,to:e}):r()}));var ve=he;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(g)},router:ve}).$mount("#app")},6:function(e,t){},"64a9":function(e,t,r){},"6b1f":function(e,t,r){},7:function(e,t){},7424:function(e,t,r){"use strict";(function(e){r("96cf");var n=r("3b8d"),a=r("bc3a"),i=r.n(a),s=r("4268"),o=(r("7424"),r("1c46")),c=(e.ENV,"https://ironbank.network/");t["a"]={fetchATMconfig:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={timeout:1e4,headers:{Authorization:"Bearer ".concat(t)}},e.next=3,i.a.get(c+"configs?user="+r,n).then((function(e){return e.data})).catch((function(e){return"undefined"!==typeof e.response?{error:e.response.data}:{error:!0}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),reAuthAccount:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n,a,i,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=null,e.next=3,s["a"].hardwareId();case 3:if(r=e.sent,n=null,!r||!r.hasOwnProperty("uniqueId")){e.next=23;break}return a=r,i=a.uniqueId,c=o.createHash("sha256").update(i).digest("hex"),e.next=10,this.authAccount(i,c);case 10:if(u=e.sent,l=u.jwt,"undefined"===typeof l){e.next=23;break}return localStorage.setItem("token",l),e.prev=14,e.next=17,this.fetchATMconfigByUuid(l,t);case 17:n=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](14),console.log(e.t0);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this,[[14,20]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchATMconfigByUuid:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={timeout:1e4,headers:{Authorization:"Bearer ".concat(t)}},e.next=3,i.a.get(c+"configs?uuid="+r,a).then(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("undefined"===typeof t.response){e.next=2;break}return e.abrupt("return",{error:t.response.data});case 2:return e.abrupt("return",{error:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),fetchApiKey:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(c+"configs/"+t).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),registerAccount:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(c+"auth/local/register",{username:r,email:t+"@ironbank.network",password:n}).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),registerDevice:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(c+"configs",{user:t.id,boeSN:r,sn:n}).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,r,n){return e.apply(this,arguments)}return t}(),authAccount:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(c+"auth/local",{identifier:t+"@ironbank.network",password:r}).then((function(e){return e.data})).catch((function(e){return{error:e.response.data}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),reportConfig:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return{timeout:1e4},e.next=3,i.a.post("https://api.aeolus.ro/updateDevice",{sn:t,phonehome:r,timestamp:new Date,softwareVersion:n,configError:a},{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.data})).catch((function(e){return"undefined"!==typeof e.response?{error:e.response.data}:{error:!0}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));function t(t,r,n,a){return e.apply(this,arguments)}return t}()}}).call(this,r("f28c"))},8:function(e,t){},"80d9":function(e,t,r){"use strict";r("3a0f")},9:function(e,t){},a813:function(e,t,r){"use strict";r("d267")},b07d:function(e,t,r){"use strict";r("6b1f")},bc86:function(e,t,r){e.exports=r.p+"media/boe_motogp.149831a4.mp4"},c492:function(e,t,r){},d267:function(e,t,r){},d53e:function(e,t,r){e.exports=r.p+"img/network.32f3f2df.jpg"}});
//# sourceMappingURL=app.eb53f501.js.map